generator client {
  provider             = "prisma-client-py"
  recursive_type_depth = "5"
  interface            = "asyncio"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_CONNECTION_STRING")
}

model AudiobookBook {
  id                 Int                @id @default(autoincrement())
  uploaded_by        String
  book_title         String
  book_author        String
  chapter_count      Int
  upload_date        DateTime           @default(now())
  custom_book_title  String?
  custom_book_author String?
  AudiobookChapter   AudiobookChapter[]

  @@index([id, uploaded_by])
  @@index([uploaded_by, book_title, book_author])
  @@map("litestar_audiobook_book")
}

model AudiobookChapter {
  id                 Int           @id @default(autoincrement())
  book               AudiobookBook @relation(fields: [book_id], references: [id], onDelete: Cascade)
  book_id            Int
  queued             DateTime?
  started_converting DateTime?
  chapter_title      String
  chapter_number     Int
  word_count         Int
  sentence_count     Int
  content            String
  minio_object_name  String?
  audio_settings     Json?

  @@index([book_id, chapter_number])
  @@map("litestar_audiobook_chapter")
}

model ladder_announcer_accounts {

  @@ignore
}

model ladder_announcer_announce_info {

  @@ignore
}

model ladder_announcer_characters {

  @@ignore
}

model stream_announcer_streams {

  @@ignore
}
