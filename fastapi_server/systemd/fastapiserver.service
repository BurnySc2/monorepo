# /etc/systemd/system/fastapiserver.service
[Service]
ExecStart=/usr/bin/docker run --rm --name fastapi_server \
    --env STAGE=PROD \
    --env-file ./.env \
    -v ./data:/root/fastapi_server/data \
    -l traefik.enable=true \
    -l traefik.http.routers.fastapiserver.rule=Host(`api.burnysc2.de`) \
    -l traefik.http.services.fastapiserver.loadbalancer.server.port=8000 \
    -l traefik.http.routers.fastapiserver.tls=true \
    -l traefik.http.routers.fastapiserver.tls.certresolver=production \
    --network traefiknet \
    burnysc2/fastapi_server:latest
Restart=always
RestartSec=20
SyslogIdentifier=fastapiserver
User=fastapiserver
Group=fastapiserver
WorkingDirectory=/home/fastapiserver/

[Install]
WantedBy=multi-user.target
